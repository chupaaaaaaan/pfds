# Exercise 9.9

**head** は明らかに $O(1)$ 償却時間で動作するので、**cons**、**tail** について $O(1)$ 償却時間で動作することを示す。このとき **Two** は最大で 1 の負債を持ち、**One** や **Three** は負債を持たないとする。

## cons の場合

$ts$ が $k$ 個の **Three** に続く **Two** で始まっているとする。
このとき **cons** は **Three** を **Two** に、**Two** を **Three** に変える。
各ステップに 1 ずつ負債を割り当てると、**Two** は 1 の、**Three** に 2 の負債（もともとあった負債と新しく割り当てられた負債）が残る。
**Three** にある負債 2 を返済すれば不変条件が保たれて、 **cons** は  $O(1)$ 償却時間で動作する。

## tail の場合

$ts$ が $k$ 個の **One** に続く **Two** で始まっているとする。
このとき **tail** は **One** を **Two** に、**Two** を **One** に変える。
各ステップに 1 ずつ負債を割り当てると、**Two** は 1 の、**One** に 2 の負債（もともとあった負債と新しく割り当てられた負債）が残る。
**One** にある負債 2 を返済すれば不変条件が保たれて、 **tail** は  $O(1)$ 償却時間で動作する。
